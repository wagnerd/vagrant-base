---
- hosts: all
  become: true
  become_method: sudo
  roles:
    - common

  vars:
    http_port: 80
    max_clients: 200

  tasks:
  - name: Add Docker GPG apt Key
    apt_key:
      url: https://download.docker.com/linux/ubuntu/gpg
      state: present

  - name: Add Docker Repository
    apt_repository:
      repo: deb https://download.docker.com/linux/ubuntu disco stable
      state: present

  - name: Update apt and install docker-ce
    apt: update_cache=yes name=docker-ce state=latest

  - name: Install Visual Studio Code x86_64
    apt:
      deb: https://go.microsoft.com/fwlink/?LinkID=760868